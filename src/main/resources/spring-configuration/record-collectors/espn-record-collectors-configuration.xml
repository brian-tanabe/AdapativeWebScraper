<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util" xsi:schemaLocation="
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd">

    <import resource="classpath:/spring-configuration/value-extractors/espn-value-extractor-configurations.xml"/>
    <import resource="classpath:/spring-configuration/common/thread-pool-configuration.xml"/>

    <util:map id="espnNflPlayerProjectionValueExtractorSetterMethodMap"
              key-type="com.btanabe.adaptivewebscraper.parsers.ValueExtractor" value-type="java.lang.String">
        <entry key-ref="espnProjectionsNameValueExtractor" value="setName"/>
        <entry key-ref="espnProjectionsPageRankValueExtractor" value="setRank"/>
        <entry key-ref="espnProjectionsRushingYardsValueExtractor" value="setRushingYards"/>
    </util:map>

    <bean id="espnNflPlayerProjectionsRecordCollector"
          class="com.btanabe.adaptivewebscraper.collectors.RecordCollector">
        <property name="executorService" ref="listeningExecutorService"/>
        <property name="nextPageValueExtractor" ref="espnProjectionsPageNextPageValueExtractor"/>
        <property name="recordDocumentExtractor" ref="espnPlayerProjectionRowValueExtractor"/>
        <property name="seedWebPage" value="http://games.espn.go.com/ffl/tools/projections?leagueId=84978"/>
        <property name="valueExtractorToSetterMethodNameMap"
                  ref="espnNflPlayerProjectionValueExtractorSetterMethodMap"/>
        <property name="outputClassPath" ref="espnNflProjectionModel"/>
    </bean>
</beans>